<!-- task-list.component.html -->

<div class="task-container">
  <ul class="task-list">
    <li *ngFor="let task of tasks" class="task-item">
      <div class="task-content">
        <input type="checkbox" [checked]="task.completed" (click)="toggleCompleted(task)">
        <span class="task-title" [class.completed]="task.completed">{{ task.title }}</span>
      </div>
      <div class="task-actions">
        <button (click)="deleteTask(task)" class="delete-btn">Poista</button>
        <button (click)="setActiveTask(task)" class="edit-btn">Muokkaa</button>
      </div>
    </li>
  </ul>
</div>

<!-- Muokkauslomakkeen dialogi -->
<div *ngIf="isEditFormVisible && activeTask" class="edit-form-dialog">
  <h3>Muokkaa Tehtävää</h3>
  <form (ngSubmit)="editTask()">
    <label for="title">Otsikko:</label>
    <input type="text" id="title" [(ngModel)]="activeTask.title" name="title" required>

    <label for="description">Kuvaus:</label>
    <textarea id="description" [(ngModel)]="activeTask.description" name="description" required></textarea>

    <button type="submit">Tallenna</button>
    <button type="button" (click)="isEditFormVisible = false">Peruuta</button>
  </form>
</div>
